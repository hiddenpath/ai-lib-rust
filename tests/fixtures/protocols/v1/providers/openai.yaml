id: openai
protocol_version: "2.0"
name: OpenAI
status: stable
category: ai_provider
official_url: "https://platform.openai.com/docs"
support_contact: "https://help.openai.com"

endpoint:
  base_url: "https://api.openai.com/v1"

auth:
  type: bearer
  token_env: "OPENAI_API_KEY"

availability:
  required: false
  regions: [global]
  check:
    method: GET
    path: /health
    expected_status: [200]

capabilities:
  streaming: true
  tools: true
  vision: true

endpoints:
  chat:
    path: "/chat/completions"
    method: POST
    adapter: openai

parameter_mappings:
  model: "model"
  messages: "messages"
  stream: "stream"

response_paths:
  content: "choices[0].message.content"
  tool_calls: "choices[0].message.tool_calls"
  usage: "usage"
  finish_reason: "choices[0].finish_reason"

streaming:
  event_format: "data_lines"
  decoder:
    format: "sse"
    delimiter: "\n\n"
    prefix: "data: "
    done_signal: "[DONE]"
  frame_selector: "exists($.choices) || exists($.error)"
  content_path: "choices[0].delta.content"
  tool_call_path: "choices[0].delta.tool_calls"

error_classification:
  by_http_status:
    "400": "invalid_request"
    "401": "authentication"
    "429": "rate_limited"
    "500": "server_error"
